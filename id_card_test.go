package validate_test

import (
	"testing"

	"github.com/wusphinx/awesome-validate"
)

func TestValidateIDCardOK(t *testing.T) {
	cards := []string{
		"320311199003202523",
		"320402197604127282",
		"654003197107181880",
		"350823197408285282",
		"450328197006157868",
		"511623197507201881",
		"52242219820222568X",
		"620622198807272588",
		"340201198804209603",
		"230500197407203849",
		"211381198207161188",
		"500243197506186828",
		"532522198609163983",
		"620105198609125049",
		"140426198907183929",
		"211404198606209540",
		"620826197108162787",
		"330301198605178449",
		"220402198204188669",
		"620100198109198020",
		"150624197307108592",
		"140702197206246158",
		"511025198108245574",
		"350781198901281077",
		"141122197401205195",
		"141026197607277493",
		"13112319900310419X",
		"130181198305109058",
		"522200198205131313",
		"360881198607104595",
		"330701197006213377",
		"130433197502106615",
		"530502198002175251",
		"542333198106127999",
		"542522197407249014",
		"542329197605285431",
	}
	for _, card := range cards {
		if ok := validate.ValidateIDCard(card); !ok {
			t.Errorf("may be not correct card:%s ", card)
		}
	}
}

func TestValidateIDCardFail(t *testing.T) {
	cards := []string{
		"32031119900320252",
		"3204021976041272820",
		"65400319710718188Y",
		"3508231974082Z5282",
		"",
	}
	for _, card := range cards {
		if ok := validate.ValidateIDCard(card); ok {
			t.Errorf("should not correct card:%s ", card)
		}
	}
}
